<!-- Comp 20 Fall 2020
    HW 9 API Fun
    Eliza Encherman
    -->

    <!DOCTYPE html>

    <html>
    <head>
        <title>API Fun</title>
        <script>
            function getAPI() {
                request = new XMLHttpRequest();
                request.open("GET", "https://www.dnd5eapi.co/api/spells/acid-arrow", true);
                request.onreadystatechange = function () {
                    //alert("readyState = " + request.readyState + ". status = " + request.status);
                    if (request.readyState == 4 && request.status == 200) {
                        result = request.responseText;
                        var spell = JSON.parse(result);
                        showSpell(spell);
                    }
                }
                request.send();
            }

            function showSpell(spell) {
                //alert("showing monsters");
                spellBook = document.createElement("div");
                spellBook.innerHTML = "Spell: " + spell.name + "<br>"
                                      + "Description: " + spell.desc;
                document.getElementById("displayData").appendChild(spellBook);
            }
        </script>
    </head>
    <body onload="getAPI()">
        <div id="answers">
            <p>API: The Dungeons and Dragons API, which allows search and filter of D&D spells, races, traits, etc.</p>
            <p>URL: 
                <a href="http://www.dnd5eapi.co/docs/#intro">http://www.dnd5eapi.co/docs/#intro</a>, which I found on the GitHub page of free public APIs.
            </p>
            <p>In the API request, I specified the category "spells" and the spell "acid-arrow" to access a specific spell by name.</p>
            <p>This API would be helpful both for creating your own D&D - based computer game, as well as a character/campaign tracker program.</p>
        </div>
        <div id="displayData"></div>
    </body>
    </html>
